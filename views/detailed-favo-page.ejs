<%- include("partials/header") %>
<section class="detailedfavo-personage">
    <h2 class="page-title"><%= favorietePersonageDetail.naam %></h2>
    <article class="favopersonage-detail-container">
      <div class="foto-en-tekst">
        <img src="<%= favorietePersonageDetail.foto %>" />
        <h3>Biografie</h3>
        <p>
          <%= favorietePersonageDetail.biografie %>
        </p>
        <div class="desktop-notities">
          <h5>Notities</h5>
          <form class="hidden-form-notities" action="/notities-opslaan/<%= favorietePersonageDetail.id %>" method="post">
            <textarea class="fortnite-textarea" name="notities" id="notities" cols="50" rows="10"><%= favorietePersonageDetail.notities %></textarea>
            <button class="opslaan-button" type="submit">Opslaan</button>
          </form>
        </div>
      </div>
      <div class="items-en-stats">
        
        <div class="items">
          <h4>Rugzakken</h4>
          <div class="backpacks">
            <% favorietePersonageDetail.backpacks.forEach((backpack, index) => { %>
              <form class="hidden-form" method="post" action="/gebruik-item/<%= favorietePersonageDetail.id %>">
                <input type="hidden" id="itemId<%= index %>" name="item" value="<%= backpack %>">
                <button class="hidden-button" type="submit">
                  <img src="<%= backpack %>" alt="Skin <%= index + 1 %>">
                </button>
              </form>
              <% }); %>
          </div>
          <h4>Houwelen</h4>
          <div class="pickaxes">
            <% favorietePersonageDetail.pickaxes.forEach((pickaxe, index) => { %>
              <form class="hidden-form" method="post" action="/gebruik-item/<%= favorietePersonageDetail.id %>">
                <input type="hidden" id="itemId<%= index %>" name="item" value="<%= pickaxe %>">
                <button class="hidden-button" type="submit">
                  <img src="<%= pickaxe %>" alt="Skin <%= index + 1 %>">
                </button>
              </form>
              <% }); %>
          </div>
          <h4>Dansjes</h4>
          <div class="emotes">
            <% favorietePersonageDetail.emotes.forEach((emote, index) => { %>
              <form class="hidden-form" method="post" action="/gebruik-item/<%= favorietePersonageDetail.id %>">
                <input type="hidden" id="itemId<%= index %>" name="item" value="<%= emote %>">
                <button class="hidden-button" type="submit">
                  <img src="<%= emote %>" alt="Skin <%= index + 1 %>">
                </button>
              </form>
              <% }); %>
          </div>
          <h4>Zweefvliegers</h4>
          <div class="gliders">
            <% favorietePersonageDetail.gliders.forEach((glider, index) => { %>
              <form class="hidden-form" method="post" action="/gebruik-item/<%= favorietePersonageDetail.id %>">
                <input type="hidden" id="itemId<%= index %>" name="item" value="<%= glider %>">
                <button class="hidden-button" type="submit">
                  <img src="<%= glider %>" alt="Skin <%= index + 1 %>">
                </button>
              </form>
              <% }); %>
          </div>
          <h4>Gebruikte items</h4>
          <div class="gebruikte-items">
            <div class="gebruikte-item-container">
              <form class="hidden-form" method="post" action="/verwijder-item/<%= favorietePersonageDetail.id %>">
                <img src="<%= favorietePersonageDetail.gebruikteItems[0] %>" alt="">
                <input type="hidden" id="itemId" name="item" value="0">
                <button class="hidden-button" type="submit">
                  <img class="trash-icon" src="/images/vuilbakje.png" alt="Verwijder">
                </button>
              </form>
            </div>
            <div class="gebruikte-item-container">
              <form class="hidden-form" method="post" action="/verwijder-item/<%= favorietePersonageDetail.id %>">
                <img src="<%= favorietePersonageDetail.gebruikteItems[1] %>" alt="">
                <input type="hidden" id="itemId" name="item" value="1">
                <button class="hidden-button" type="submit">
                  <img class="trash-icon" src="/images/vuilbakje.png" alt="Verwijder">
                </button>
              </form>
            </div>
          </div>
        </div>
        <div class="mobiel-notities">
          <h5>Notities</h5>
          <form class="hidden-form-notities" action="/notities-opslaan/<%= favorietePersonageDetail.id %>" method="post">
            <textarea class="fortnite-textarea" name="notities" id="notities" cols="40" rows="10"><%= favorietePersonageDetail.notities %></textarea>
            <button class="opslaan-button" type="submit">Opslaan</button>
          </form>
        </div>
        
        <div class="battles-en-stats">
          <h4>Gevechtsstatistieken</h4>
          <div class="stats">
            <table>
              <thead>
                <tr>
                  <th>Winst</th>
                  <th>Verlies</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><%= favorietePersonageDetail.stats[0] %></td>
                  <td><%= favorietePersonageDetail.stats[1] %></td>
                </tr>
              </tbody>
            </table>
          </div>
          <h4>Vechten</h4>
          <div class="fight">
            <form class="hidden-form" method="post" action="/win-lose/<%= favorietePersonageDetail.id %>">
                <input type="hidden" id="fightResultInput" name="fightResult" value="">
                <button class="win" onclick="setResult('win')">Winnen</button>
                <button class="lose" onclick="setResult('lose')">Verliezen</button>
            </form>
            <script>
              function setResult(result) {
                  document.getElementById('fightResultInput').value = result;
                  // Submit the form
                  document.querySelector('form').submit();
              }
            </script>
        </div>
        </div>
      </div>
    </article>
    
    
  </section>
<%- include("partials/footer") %>